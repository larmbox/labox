@import '../../theme/imports';

@mixin button-color($color) {
  background-color: color($color, 8);
  border-color: color($color, 9);
  color: contrast-tone(color($color, 8));

  &:not(:disabled):not(:focus):hover {
    background-color: color($color, 9);
    border-color: color($color, 10);
  }

  &:not(:disabled):active {
    background-color: color($color, 8);
    border-color: color($color, 9);
  }

  &:focus {
    box-shadow: 0 0 0 v(focus-shadow-size) color($color, 'T20');
  }

  &:disabled {
    background-color: color($color, 5);
    border-color: color($color, 5);
  }

  // &.#{c('LButton')}-loading .#{c('LLoading')} {
  //   color: color($color, 1);
  // }
}

@mixin button-color-outline($color) {
  background-color: transparent;
  border-color: color($color, 8);
  color: color($color, 8);

  &.#{c('LButton')}-loading .#{c('LLoading')} {
    color: color($color, 8);
  }

  &:not(:disabled):hover {
    background-color: color($color, 'T10');
    color: color($color, 8);
  }

  &:not(:disabled):active {
    background-color: transparent;
    color: color($color, 8);
  }

  &:focus {
    box-shadow: 0 0 0 v(focus-shadow-size) color($color, 'T20');
  }

  &:disabled {
    border-color: color($color, 3);
    color: color($color, 4);
  }
}

.#{c('LButton')} {
  transition: background-color v(transition-time) v(transition-type),
    color v(transition-time) v(transition-type),
    border-color v(transition-time) v(transition-type),
    box-shadow v(transition-time) v(transition-type);
  justify-content: center;
  display: inline-flex;
  border-style: solid;
  border-width: v(#{c('LButton')}-border-width);
  outline: none;
  text-align: center;
  white-space: nowrap;
  position: relative;
  padding: v(#{c('LButton')}-padding-y) v(#{c('LButton')}-padding-x);
  font-family: inherit;
  font-weight: v(#{c('LButton')}-font-weight);
  border-radius: v(#{c('LButton')}-border-radius);

  line-height: v(#{c('LButton')}-line-height);
  font-size: v(#{c('LButton')}-font-size);

  cursor: pointer;
  text-decoration: none;

  .#{c(LButton)}-content {
    display: flex;
    align-items: center;
  }

  @mixin button-variant($variant) {
    &.#{c(LButton)}-#{$variant} {
      &:not(.#{c('LButton')}-outline) {
        @include button-color($variant);
      }
      &.#{c('LButton')}-outline {
        @include button-color-outline($variant);
      }
    }
  }

  @each $variant in $lx-palettes {
    @include button-variant($variant);
  }

  &.#{c('LButton')}-icon-right {
    .#{c('LIcon')}:last-of-type {
      padding-left: calc(v(spacing) * 0.5);
    }
  }

  &.#{c('LButton')}-icon-left {
    .#{c('LIcon')}:first-of-type {
      padding-right: calc(v(spacing) * 0.5);
    }
  }

  &.#{c('LButton')}-block {
    display: flex;
    min-width: 100%;
  }

  &:disabled {
    cursor: default;
  }

  &.#{c(LButton)}-sm {
    padding: v(#{c('LButton')}-padding-y-sm) v(#{c('LButton')}-padding-x-sm);
    font-size: v(#{c('LButton')}-font-size-sm);
    line-height: v(#{c('LButton')}-line-height-sm);
  }

  &.#{c(LButton)}-lg {
    padding: v(#{c('LButton')}-padding-y-lg) v(#{c('LButton')}-padding-x-lg);
    font-size: v(#{c('LButton')}-font-size-lg);
    line-height: v(#{c('LButton')}-line-height-lg);
  }

  &.#{c('LButton')}-loading {
    align-items: center;
    .#{c('LLoading')} {
      position: absolute;
    }
    .#{c('LButton')}-content {
      visibility: hidden;
      opacity: 0;
    }
  }
}
